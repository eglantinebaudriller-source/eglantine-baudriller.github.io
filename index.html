<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="L'√©ruption du Krakatoa de 1883">
  <meta name="author" content="Fabian MATHIEU">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Cache-Control" content="max-age=31536000, must-revalidate">
  <title>Krakatoa</title>
  <link rel="icon" type="image/x-icon" href="img/icon.png">
  <!-- Extension : Turf-->
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
  <script src='https://unpkg.com/@turf/turf@6.5.0/turf.min.js'></script>
  <!-- CSS-->
  <link rel="stylesheet" href="style.css">
  <!-- Extension : MapLibre -->
  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@5.13.0/dist/maplibre-gl.css">
  <script src="https://unpkg.com/maplibre-gl@5.13.0/dist/maplibre-gl.js"></script>
  <!-- MapLibre Compare -->
  <script src="https://cdn.jsdelivr.net/npm/@maplibre/maplibre-gl-compare@0.5.0/dist/maplibre-gl-compare.js"></script>
  <link rel="stylesheet" href=https://cdn.jsdelivr.net/npm/@maplibre/maplibre-gl-compare@0.5.0/dist/maplibre-gl-compare.css>
  <!-- Javascript-->
  <script src="script.js" defer></script>
</head>

<body>

  <!-- Header -->
  <header>
    <div class="pnr">
      <a href="index.html"><img class="logo" src="img/logo.svg" width="64" height="105"></a>
      <h1><a href="index.html">L'√©ruption du Krakatoa (1883)</a></h1>
    </div>

    <!-- Affichage des onglets -->
    <nav class="nav">
      <ul id="tabs">
        <li data-tab="presentation" class="active">Pr√©sentation</li>
        <li data-tab="historique">Historique</li>
        <li data-tab="carte-son">Carte sons</li>
        <li data-tab="carte-tsunami">Carte tsunami</li>
        <li data-tab="carte-deces"> Carte d√©c√®s</li>
        <li data-tab="avant-apres"> Avant/Apr√®s</li>
        <li data-tab="carte-evolution">Carte √©volution</li>
      </ul>
    </nav>

  </header>

  <!-- Contenus des onglets -->
  <main>
    <div id="tab-content">

      <!-- Onglet par d√©faut - Pr√©sentation -->
      <div id="presentation" class="tab active">
        <h2>Localisation du volcan de Krakatoa</h2>
          <p> 
            Bienvenue sur cette exploration de l'√©ruption du volcan Krakatoa en 1883.
          </p>
        <div class="presentation-layout">
          <!-- Carte globe -->
          <div class="presentation-map">
            <div id="presentation-map" class="map"></div>
          </div>
          <!-- L√©gende-->
          <div class="map-legend top-right" id="presentation-legend">
            <div class="map-legend-inner">
              <div class="legend-title">L√©gende</div>

              <div class="legend-item">
                <span class="legend-icon legend-krakatoa"></span>
                <span>Localisation du Krakatoa</span>
              </div>
            </div>
          </div>
          <!-- Diaporama -->
          <div class="presentation-slideshow">
            <div class="slideshow-container">
              <div class="mySlide fade">
                <img src="img/photo_1.jpg" alt="">
                <div class="slide-caption">
                  <strong>L'Anak Krakatau, le 20 octobre 2013</strong><br>
                  Photographie - 2013<br>
                  Source : Wikimedia - CC BY-SA 3.0
                </div>
              </div>

              <div class="mySlide fade">
                <img src="img/photo_2.jpg" alt="">
                <div class="slide-caption">
                  <strong>√âruption du Krakatoa (1883)</strong><br>
                  Photographie - 1883<br>
                  Source : Wikimedia - Domaine Public
                </div>
              </div>
              <div class="mySlide fade">
                <img src="img/photo_3.jpg" alt="">
                <div class="slide-caption">
                  <strong>√âruption du Krakatoa (1883)</strong><br>
                  Lithographie par Parker & Coward - 1888<br>
                  Source : Wikimedia - Domaine Public
                </div>
              </div>

              <div class="mySlide fade">
                <img src="img/photo_4.jpg" alt="">
                <div class="slide-caption">
                  <strong>√ânorme bloc de corail √† l'emplacement de l'ancienne poste d'Anyer (Indon√©sie) d√©truite apr√®s l'√©ruption du Krakatoa</strong><br>
                  Photographie - 1885<br>
                  Source : Wikimedia / Collectie Wereldmuseum - CC BY-SA 3.0
                </div>
              </div>

              <div class="mySlide fade">
                <img src="img/photo_5.jpg" alt="">
                <div class="slide-caption">
                  <strong>√âruption du Krakatoa (2008)</strong><br>
                  Photographie - 2008<br>
                  Source : Wikimedia - Domaine Public
                </div>
              </div>

              <a class="prev">‚ùÆ</a>
              <a class="next">‚ùØ</a>
            </div>

            <div class="dots">
              <span class="dot" data-slide="1"></span>
              <span class="dot" data-slide="2"></span>
              <span class="dot" data-slide="3"></span>
              <span class="dot" data-slide="4"></span>
              <span class="dot" data-slide="5"></span>
            </div>

          </div>
        </div>
      </div>

      <!-- Contenu de l‚Äôonglet Historique -->
      <div id="historique" class="tab">
        <h2>Chronologie de l‚Äô√©ruption du Krakatoa (1883)</h2>

        <!-- Carte -->
        <div class="historique-map-container">
          <div id="historique-map" class="map"></div>

          <!-- L√©gende -->
          <div class="map-legend historique-legend">
            <div class="map-legend-inner">
              <div class="legend-title">Types d‚Äô√©v√©nements</div>

              <div class="legend-item">
                <span class="legend-color" style="background:#FF0000"></span>
                <span>√âruption</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background:#FFC000"></span>
                <span>S√©ismes</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background:#91E2FF"></span>
                <span>Ph√©nom√®ne atmosph√©rique</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background:#262626"></span>
                <span>Rejets volcaniques</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background:#FFFFFF; border:1px solid #000"></span>
                <span>T√©moignage sonore</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background:#0070C0"></span>
                <span>Tsunami</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background:#92D050"></span>
                <span>Autres</span>
              </div>
            </div>
          </div>

          <!-- Contr√¥les -->
          <div class="historique-controls">
            <div class="row">
              <button id="hist-play">‚ñ∂</button>
              <button id="hist-pause">‚è∏</button>
              <button id="hist-reset">‚ü≤ Reset</button>
              <button id="hist-reset-zoom">üîç Reset zoom</button>
              <div id="hist-time-display">00:00</div>
            </div>

            <div id="hist-date-display">‚Äî</div>

            <input id="hist-time-slider" type="range" min="0" max="220000" step="60" value="0" />

            <div class="row">
              <span>Vitesse</span>
              <span class="speed-label" id="hist-speed-label">√ó1200</span>
            </div>

            <input id="hist-speed-slider" type="range" min="1" max="10800" step="1" value="1200" />
          </div>

        </div>
      </div>

      <!-- Contenu de l'onglet Carte Son -->
      <div id="carte-son" class="tab">
        <h2>Propagation du son du Krakatoa (1883)</h2>

        <div id="map" class="map"></div>

        <div class="map-legend top-right" id="sound-legend">
          <div class="map-legend-inner">
            <div class="legend-title">L√©gende</div>
            <div class="legend-item">
              <span class="legend-icon legend-krakatoa"></span>
              <span>Localisation du Krakatoa</span>
            </div>
            <div class="legend-item">
              <span class="legend-icon legend-lieux"></span>
              <span>Lieux o√π le son fut entendu (Royal Society, 1888)</span>
            </div>
            <div class="legend-item">
              <span class="legend-line legend-cercle"></span>
              <span>Front de propagation du son</span>
            </div>
          </div>
        </div>

        <div class="map-overlay top">
          <div class="map-overlay-inner">
            <h3>Propagation du son</h3>
            <label id="time-label" for="time-slider">0 min (rayon: 0 km)</label>
            <input id="time-slider" type="range">
          </div>
        </div>
      </div>

      <!-- Contenu de l'onglet Carte Tsunami -->
      <div id="carte-tsunami" class="tab">
        <h2>Impact du tsunami provoqu√© par l'√©ruption</h2>
        <div id="tsunami-map" class="map"></div>

        <div class="map-legend" id="tsunami-legend">
          <div class="map-legend-inner">
            <div class="legend-title">L√©gende</div>

            <div class="legend-item">
              <span class="legend-icon legend-krakatoa"></span>
              <span>Localisation du Krakatoa</span>
            </div>

            <div class="legend-item">
              <span class="legend-icon legend-zone-verbeek"></span>
              <span>Zones submerg√©es (Verbeek, 1885)</span>
            </div>

            <div class="legend-item">
              <span class="legend-icon legend-zone-principale"></span>
              <span>Zones submerg√©es (Clerc-Rampal, 1913)</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Contenu de l'onglet Carte d√©c√®s-->
      <div id="carte-deces" class="tab">
        <h2>Localisation des morts suite √† l'√©ruption</h2>
        <div id="map_deces" class="map"></div>

        <div class="map-overlay top carte-deces-overlay">
          <div class="map-overlay-inner">
            <h3>S√©lection du district</h3>
            <select id="district-select">
              <option value="ALL">Afficher tout</option>
            </select>
          </div>
        </div>

        <div class="map-legend top-right carte-deces-legend">
          <div class="map-legend-inner">            

            <p style="font-weight: bold;">Nombre de d√©c√®s (d'apr√®s Verbeek, 1885)</p>
            <div class="legend-item">
                <div class="legend-color legend-morts-1"></div>
                <span>1 √† 10</span>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-morts-2"></div>
                <span>11 √† 500</span>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-morts-3"></div>
                <span>501 √† 5 000</span>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-morts-4"></div>
                <span>5 001 √† 15 000</span>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-morts-5"></div>
                <span>20 000 et +</span>
            </div>

            <hr style="border-top: 1px solid rgba(255, 255, 255, 0.3); margin: 10px 0;">
            
            <div class="legend-item">
                <div class="legend-color" style="background-color: #4bd1e6ff; border-radius: 10%; border: 1px solid #000000;"></div>
                <span>Villages totalement ou partiellement d√©truits</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Contenu de l‚Äôonglet Avant/Apr√®s -->
      <div id="avant-apres" class="tab">
        <h2>√âvolution de l‚Äôarchipel du Krakatoa apr√®s l‚Äô√©ruption de 1883</h2>

      <div id="wrapper">
        <!-- Conteneur pour le plugin de comparaison -->
        <div id="comparison-container">
          <div id="before"></div>
          <div id="after"></div>
        </div>

        <aside>
          <h2>Lecture de la carte</h2>
          <p>
            La partie <strong>gauche</strong> montre l‚Äôarchipel
            <strong>avant 1883</strong>, la partie <strong>droite</strong> apr√®s
            l‚Äô√©ruption. Tu peux zoomer, te d√©placer et cliquer sur les polygones
            pour obtenir quelques informations.
          </p>

          <h3>L√©gende</h3>
          <div class="legend-item">
            <span class="color-box pre"></span>
            <span>Avant 1883</span>
          </div>
          <div class="legend-item">
            <span class="color-box post"></span>
            <span>Apr√®s 1883</span>
          </div>
          <div class="legend-item">
            <span class="color-box diff"></span>
            <span>Diff√©rence (zones modifi√©es)</span>
          </div>

          <div class="controls">
            <h3>Options d‚Äôaffichage</h3>
            <label>
              <input type="checkbox" id="toggle-diff">
              Afficher la couche de diff√©rence
            </label>

            <p class="small-note">
              La couche de diff√©rence met en √©vidence les zones gagn√©es ou perdues
              apr√®s l‚Äô√©ruption.
            </p>
          </div>
        </aside>
      </div>
    </div>

      <!-- Contenu de l'onglet √âvolution-->  
      <div id="carte-evolution" class="tab">
        <h2>√âvolution de l'√Æle volcanique de Krakatoa (2017 ‚Üí 2021)</h2>
          <div id="evolution-map" class="map"></div>

          <div class="map-legend top-right" id="evolution-legend">
            <div class="map-legend-inner">
              <div class="legend-title">L√©gende</div>

              <div class="legend-item">
                <span class="legend-color evolution-eau"></span>
                <span>Eau</span>
              </div>

              <div class="legend-item">
                <span class="legend-color evolution-debris"></span>
                <span>D√©bris de l'√Æle coul√©s par la lave</span>
              </div>

              <div class="legend-item">
                <span class="legend-color evolution-fumee"></span>
                <span>Fum√©e</span>
              </div>

              <div class="legend-item">
                <span class="legend-color evolution-vegetation"></span>
                <span>V√©g√©tation</span>
              </div>

              <div class="legend-item">
                <span class="legend-color evolution-lave"></span>
                <span>Lave</span>
              </div>

              <div class="legend-item">
                <span class="legend-color evolution-sol"></span>
                <span>Reste de l'√Æle (sol nu)</span>
              </div>

            </div>
          </div>

      <div class="map-overlay top">
        <div class="map-overlay-inner">
          <h3>Ann√©e s√©lectionn√©e</h3>
            <span id="anneeAffichee">2017</span>
          <input id="timeline" type="range" min="1" max="5" value="1">
        </div>
      </div>

    </div>

  </main>
  
</body>
</html>
